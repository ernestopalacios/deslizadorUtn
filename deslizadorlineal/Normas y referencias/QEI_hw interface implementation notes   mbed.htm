<!DOCTYPE html>
<!-- saved from url=(0076)http://mbed.org/users/hexley/notebook/qei_hw-interface-implementation-notes/ -->
<html class=" js no-touch svg inlinesvg svgclippaths no-ie8compat" lang="en" style=""><!--<![endif]--><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>QEI_hw interface implementation notes | mbed</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=9; IE=8; IE=7; IE=EDGE">
    <!-- Set the viewport width to device width for mobile -->
    <meta name="viewport" content="user-scalable=yes,width=device-width,initial-scale=0.9">


    <!-- Included CSS Files -->
    <link rel="stylesheet" href="./QEI_hw interface implementation notes   mbed_files/a0d779960ba0.css" type="text/css">
    
    <script type="text/javascript" src="./QEI_hw interface implementation notes   mbed_files/97224e57199f.js"></script><style type="text/css"></style>
    <!--[if (gte IE 6)&(lte IE 8)]>
        <script type="text/javascript" src="/media/js/selectivizr-min.js"></script>
  <![endif]-->

    
        <script type="text/javascript" src="./QEI_hw interface implementation notes   mbed_files/e5bb785fcf0c.js"></script>
    
    



<script id="mce_0" type="text/javascript" src="./QEI_hw interface implementation notes   mbed_files/es.js"></script><script id="mce_10" type="text/javascript" src="./QEI_hw interface implementation notes   mbed_files/es(1).js"></script><script id="mce_11" type="text/javascript" src="./QEI_hw interface implementation notes   mbed_files/es(2).js"></script></head>
<body>

<div class="row nav-wrapper ">
        <div class="twelve columns navigation">
        
            <ul class="nav-bar radius" id="nav">
                <li><a href="http://mbed.org/"><img height="16" width="16" class="icon icon_house" src="./QEI_hw interface implementation notes   mbed_files/blank.gif"></a></li>
                <li><a href="http://mbed.org/handbook/">Handbook</a></li>
                <li><a href="http://mbed.org/cookbook/">Cookbook</a></li>
                
                    <li><a href="http://mbed.org/platforms/">Platforms</a></li>
                
                
                    <li><a href="http://mbed.org/components/">Components</a></li>   
                
                <li><a href="http://mbed.org/code/">Code</a></li>
                <li><a href="http://mbed.org/questions/">Questions</a></li>
                <li><a href="http://mbed.org/forum/">Forum</a></li>
                <li class="user-links"><a href="http://mbed.org/compiler/" target="compiler">Compiler</a></li>
                <li class="user-links"><a href="http://mbed.org/dashboard/">Dashboard</a></li>

            </ul>
        
        </div>
    </div>

    <div class="row" id="top">
        <div class="three columns logo mobile-two">
            <h1><a href="http://mbed.org/">mbed</a></h1>
        </div>
        <div class="three columns header login-block push-six mobile-two">
          
            
            <p>Hi, <a href="http://mbed.org/users/Yo_Robot/" class="user"><img alt="Profile" height="16" width="16" class="icon icon_profile" src="./QEI_hw interface implementation notes   mbed_files/blank.gif"> Yo_Robot</a>  &nbsp;<a href="http://mbed.org/account/logout/" class="button small radius success"><img alt="Logout" height="16" width="16" class="icon icon_logout" src="./QEI_hw interface implementation notes   mbed_files/blank.gif"> Logout</a></p>
            
              
             
        </div>

        <div class="six columns header pull-three">
             
            <form id="search" action="http://mbed.org/search/" method="GET">
            <input type="hidden" name="type" value="">
                <div class="row">
                    <div class="ten mobile-three columns">
                        <input type="search" name="q" id="id_q" placeholder="Search mbed.org..." class="search-input">
                    </div>
                    <div class="two mobile-one columns">
                        <input type="submit" value="Go" class="button radius  ">
                    </div>
                </div>
            </form>
            
        </div>
    </div><!-- end of #top -->
    
    <div class="row">
        <div class="twelve columns" style="position: relative;">
            <div class="breadcrumbs">
                
    <a href="http://mbed.org/activity/">Users</a> »
    <a href="http://mbed.org/users/hexley/">hexley</a> »
    <a href="http://mbed.org/users/hexley/notebook">Notebook</a> »
    QEI_hw interface implementation notes

            </div>
            
            <div class="breadcrumbs breadcrumbs-right">
                
            </div>

        </div>
    </div>
    
    
    
    <div class="row">
        <div class="nine columns main-content" id="mbed-content">
            
        
            
<script type="text/javascript" src="./QEI_hw interface implementation notes   mbed_files/tiny_mce.js"></script>
<script type="text/javascript" src="./QEI_hw interface implementation notes   mbed_files/saved_resource"></script>


<h2 class="over-cinfo"> QEI_hw interface implementation notes</h2> 


<div class="content-info">

    
        
            Page last updated  <abbr class="timeago" title="11 Dic 2010">11 Dic 2010</abbr>, by  <b> <span class="authortext"><a href="http://mbed.org/users/hexley/"><img alt="" class="icon" width="16px" height="16px" src="./QEI_hw interface implementation notes   mbed_files/29660f5ea855d8f1568d02a23d5c878a.jpg"></a> <a href="http://mbed.org/users/hexley/"> Hexley Ball</a></span></b>.
        

    
    
        
    
        
        <b>
        <a onclick="$(&#39;#commentform&#39;).show()" href="http://mbed.org/users/hexley/notebook/qei_hw-interface-implementation-notes/#commentform">   9 replies  </a></b>



    


</div>

<p>
</p><p>&nbsp;</p>
<p>The QEI_hw library that is found on my Libraries page requires hardware modification of the mbed module. The usual disclaimer applies : <strong>modifying the mbed will void the warranty and, if you make a mistake, you could end up with permanent damage. So proceed with caution!</strong></p>
<p>The rotary encoder must be connected to nodes p1.20 and p1.23. These nodes are also used to connect LED2 and LED4, respectively, on the mbed module.</p>
<p>The necessary hookup for a simple mechanical panel encoder is shown in the following schematic diagram:</p>
<p>&nbsp;</p>
<table style="width: auto;">
<tbody>
<tr>
<td><a href="http://picasaweb.google.com/lh/photo/y7JUkCe07rfWyyDNMnnN0s_KmMVqUY6oONXCLlF9_0M?feat=embedwebsite"><img alt="" height="550" src="./QEI_hw interface implementation notes   mbed_files/mbed rotary schematic.jpg" width="640"></a></td>
</tr>
<tr>
<td style="font-family: arial,sans-serif; font-size: 11px; text-align: right;">From <a href="http://picasaweb.google.com/hexleyball/Mbed?authkey=Gv1sRgCMuTnfWfn9jB3AE&feat=embedwebsite">mbed</a></td>
</tr>
</tbody>
</table>
<p>In deciding how to hook up the encoder, I took care to minimize the chance of overloading the mbed should the user inadvertently use LED2 or LED4 when the encoder is connected. So the encoder does not directly switch p1.20 or p1.23 to either ground or Vout. Had that been done, the port would see a short circuit when trying to turn the port pins on or off, respectively.</p>
<p>The encoder pulls the port pins up through 330 ohm series resistors to +3.3 volts. When the encoder breaks contact, the port pins are pulled down passively by 1K ohm resistors to ground. This scheme works well for panel encoders turned by humans. For very high-speed encoders, as might be found on motor shafts, the passive pull down may be too slow; in that case an active interface would be preferred.</p>
<p>While not for the novice, the mods are feasible for anyone who has access to a few modern tools.</p>
<p>Tools required:</p>
<ul type="disc">
<li class="MsoNormal">A low-wattage, temperature      controlled soldering iron with a fine tip (suitable for working with      surface-mount devices). A Weller WES51 is one example.</li>
<li class="MsoNormal">Very fine insulated wire. 30      AWG (0.05 mm<sup>2</sup> ) wire-wrap wire should work.</li>
<li class="MsoNormal">Needle nose pliers, diagonal      cutters, wire-stripper, solder, magnifying glass, etc.</li>
</ul>
<p>Modification steps:</p>
<ul type="disc">
<li class="MsoNormal">Place the mbed module top      down on the work surface. An anti-static mat is suggested.</li>
<li class="MsoNormal">Locate the two gold-plated      holes shown in the following photo:</li>
</ul>
<p>&nbsp;</p>
<table style="width: auto;">
<tbody>
<tr>
<td><a href="http://picasaweb.google.com/lh/photo/4u_orRFQWkl6E40Um5a6kM_KmMVqUY6oONXCLlF9_0M?feat=embedwebsite"><img alt="" height="480" src="./QEI_hw interface implementation notes   mbed_files/mbed before.JPG" width="640"></a></td>
</tr>
<tr>
<td style="font-family: arial,sans-serif; font-size: 11px; text-align: right;">From <a href="http://picasaweb.google.com/hexleyball/Mbed?authkey=Gv1sRgCMuTnfWfn9jB3AE&feat=embedwebsite">mbed</a></td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<ul type="disc">
<li class="MsoNormal">Solder one wire to each hole.</li>
<li class="MsoNormal">Connect the 1K ohm pull-down resistors, and the 330 ohm series resistors to the end of each wire, as shown in the schematic.</li>
<li class="MsoNormal">Connect the other end of each series resistor to one of the encoder phase terminals. It really doesn't matter which one, as you can adjust the sense of rotation with the direction invert parameter of the initialization method.</li>
<li class="MsoNormal">Connect the common terminal of the encoder to +3.3 volts.</li>
</ul>
<p>Here is a picture after the wires have been soldered to the mbed:</p>
<p>&nbsp;</p>
<table style="width: auto;">
<tbody>
<tr>
<td><a href="http://picasaweb.google.com/lh/photo/rVyuZx-Iu4I_DZzmXmrDKc_KmMVqUY6oONXCLlF9_0M?feat=embedwebsite"><img alt="" height="480" src="./QEI_hw interface implementation notes   mbed_files/mbed with QEI wires.JPG" width="640"></a></td>
</tr>
<tr>
<td style="font-family: arial,sans-serif; font-size: 11px; text-align: right;">From <a href="http://picasaweb.google.com/hexleyball/Mbed?authkey=Gv1sRgCMuTnfWfn9jB3AE&feat=embedwebsite">mbed</a></td>
</tr>
</tbody>
</table>
<p>You are now good to go.</p>
<p></p>
<hr class="blue">





<h2 class="sectionheader">9 comments</h2>

      
                <div>


<div class="post post-odd">
    <a name="comment-966"></a>
    <div class="inner">
        <div class="post-container">
                <div class="info" style="min-height: 2em">
                        <span style="float: right;">



    

</span>
                    <div style="float: left;">
                        <div class="author"><span class="authortext"><a href="http://mbed.org/users/ms523/"><img alt="" class="icon" width="16px" height="16px" src="./QEI_hw interface implementation notes   mbed_files/29660f5ea855d8f1568d02a23d5c878a.jpg"></a> <a href="http://mbed.org/users/ms523/"> Martin Smith</a></span>  
                        </div>
                        <a class="permalink" href="http://mbed.org/users/hexley/notebook/qei_hw-interface-implementation-notes/comment/966">#</a>
                        <span class="updated"><abbr class="timeago" title="21 Ene 2011">21 Ene 2011</abbr>
                        </span>
                    </div>
                <div style="clear: left;"></div>


                </div>
                <div class="forum-content">
                    <div class="comment-messagebody">
                        <p>Great work!</p>
<p>This is just what I was looking for for use with high speed motor encoders - Thanks</p>
                    </div>
                    
                     <div class="comment-related">
                        <a class="quotelink" href="http://mbed.org/users/hexley/notebook/qei_hw-interface-implementation-notes/#id_content" id="quote-966"><img height="16" width="16" class="icon icon_comment" src="./QEI_hw interface implementation notes   mbed_files/blank.gif"> quote</a>
                    

                    </div>
                    
 
                </div>
        </div>
    </div>
</div>
</div>
      
                <div>


<div class="post post-odd">
    <a name="comment-969"></a>
    <div class="inner">
        <div class="post-container">
                <div class="info" style="min-height: 2em">
                        <span style="float: right;">



    

</span>
                    <div style="float: left;">
                        <div class="author"><span class="authortext"><a href="http://mbed.org/users/buckeyes1997/"><img alt="" class="icon" width="16px" height="16px" src="./QEI_hw interface implementation notes   mbed_files/c8137e184a5ca8ce38c962a288102bad.jpg"></a> <a href="http://mbed.org/users/buckeyes1997/"> Matt Clement</a></span>  
                        </div>
                        <a class="permalink" href="http://mbed.org/users/hexley/notebook/qei_hw-interface-implementation-notes/comment/969">#</a>
                        <span class="updated"><abbr class="timeago" title="21 Ene 2011">21 Ene 2011</abbr>
                        </span>
                    </div>
                <div style="clear: left;"></div>


                </div>
                <div class="forum-content">
                    <div class="comment-messagebody">
                        <p>Yes great work.&nbsp; I took the 2 and 4 LED off my board with hopes to solder directly to the pads.&nbsp; I dont want the dual functionality so hopefully wont need all the pullup junk and an just connect my encoder as I do on the interrupt based QEI example.</p>
<p>&nbsp;</p>
                    </div>
                    
                     <div class="comment-related">
                        <a class="quotelink" href="http://mbed.org/users/hexley/notebook/qei_hw-interface-implementation-notes/#id_content" id="quote-969"><img height="16" width="16" class="icon icon_comment" src="./QEI_hw interface implementation notes   mbed_files/blank.gif"> quote</a>
                    

                    </div>
                    
 
                </div>
        </div>
    </div>
</div>
</div>
      
                <div>


<div class="post post-odd">
    <a name="comment-970"></a>
    <div class="inner">
        <div class="post-container">
                <div class="info" style="min-height: 2em">
                        <span style="float: right;">



    

</span>
                    <div style="float: left;">
                        <div class="author"><span class="authortext"><a href="http://mbed.org/users/hexley/"><img alt="" class="icon" width="16px" height="16px" src="./QEI_hw interface implementation notes   mbed_files/29660f5ea855d8f1568d02a23d5c878a.jpg"></a> <a href="http://mbed.org/users/hexley/"> Hexley Ball</a></span>  
                        </div>
                        <a class="permalink" href="http://mbed.org/users/hexley/notebook/qei_hw-interface-implementation-notes/comment/970">#</a>
                        <span class="updated"><abbr class="timeago" title="21 Ene 2011">21 Ene 2011</abbr> . Edited: <abbr class="timeago" title="21 Ene 2011">21 Ene 2011</abbr>
                        
                        </span>
                    </div>
                <div style="clear: left;"></div>


                </div>
                <div class="forum-content">
                    <div class="comment-messagebody">
                        <p>&nbsp;</p>
<blockquote class="quote"><span class="quoteheader"><a href="http://mbed.org/users/buckeyes1997/"><img alt="user" class="icon" src="./QEI_hw interface implementation notes   mbed_files/d58e2f077670f4de9cd7963c857f2534_16x16_crop_sharpen_upscale_q85.jpg"></a> <a href="http://mbed.org/users/buckeyes1997/"> Matt Clement</a> wrote:</span><br>
<p>Yes great work.&nbsp; I took the 2 and 4 LED off my board with hopes to solder directly to the pads.&nbsp; I dont want the dual functionality so hopefully wont need all the pullup junk and an just connect my encoder as I do on the interrupt based QEI example.</p>
<p>&nbsp;</p>
</blockquote>
<p>The PhA and PhB inputs are configured for "No Resistor", so they do not pull up or pull down on their own. I think the interrupt-based QEI example has default pull-down on its pins. So you might need to add a pull down resistor to your encoder when you switch to the hardware driver.</p>
<p>&nbsp;</p>
<p>Or, just wire it up as it shows above (leaving out the two 330 ohm resistors) and don't worry about it :-)</p>
                    </div>
                    
                     <div class="comment-related">
                        <a class="quotelink" href="http://mbed.org/users/hexley/notebook/qei_hw-interface-implementation-notes/#id_content" id="quote-970"><img height="16" width="16" class="icon icon_comment" src="./QEI_hw interface implementation notes   mbed_files/blank.gif"> quote</a>
                    

                    </div>
                    
 
                </div>
        </div>
    </div>
</div>
</div>
      
                <div>


<div class="post post-odd">
    <a name="comment-971"></a>
    <div class="inner">
        <div class="post-container">
                <div class="info" style="min-height: 2em">
                        <span style="float: right;">



    

</span>
                    <div style="float: left;">
                        <div class="author"><span class="authortext"><a href="http://mbed.org/users/buckeyes1997/"><img alt="" class="icon" width="16px" height="16px" src="./QEI_hw interface implementation notes   mbed_files/c8137e184a5ca8ce38c962a288102bad.jpg"></a> <a href="http://mbed.org/users/buckeyes1997/"> Matt Clement</a></span>  
                        </div>
                        <a class="permalink" href="http://mbed.org/users/hexley/notebook/qei_hw-interface-implementation-notes/comment/971">#</a>
                        <span class="updated"><abbr class="timeago" title="21 Ene 2011">21 Ene 2011</abbr>
                        </span>
                    </div>
                <div style="clear: left;"></div>


                </div>
                <div class="forum-content">
                    <div class="comment-messagebody">
                        <p>Is there a way with the hardware inputs to specify internal pull up/downs?&nbsp; I would like to not have external components if possible.</p>
<p>Matt</p>
<p>&nbsp;</p>
                    </div>
                    
                     <div class="comment-related">
                        <a class="quotelink" href="http://mbed.org/users/hexley/notebook/qei_hw-interface-implementation-notes/#id_content" id="quote-971"><img height="16" width="16" class="icon icon_comment" src="./QEI_hw interface implementation notes   mbed_files/blank.gif"> quote</a>
                    

                    </div>
                    
 
                </div>
        </div>
    </div>
</div>
</div>
      
                <div>


<div class="post post-odd">
    <a name="comment-972"></a>
    <div class="inner">
        <div class="post-container">
                <div class="info" style="min-height: 2em">
                        <span style="float: right;">



    

</span>
                    <div style="float: left;">
                        <div class="author"><span class="authortext"><a href="http://mbed.org/users/hlipka/"><img alt="" class="icon" width="16px" height="16px" src="./QEI_hw interface implementation notes   mbed_files/29660f5ea855d8f1568d02a23d5c878a.jpg"></a> <a href="http://mbed.org/users/hlipka/"> Hendrik Lipka</a></span>  
                        </div>
                        <a class="permalink" href="http://mbed.org/users/hexley/notebook/qei_hw-interface-implementation-notes/comment/972">#</a>
                        <span class="updated"><abbr class="timeago" title="21 Ene 2011">21 Ene 2011</abbr>
                        </span>
                    </div>
                <div style="clear: left;"></div>


                </div>
                <div class="forum-content">
                    <div class="comment-messagebody">
                        <p>
</p><blockquote class="quote"><span class="quoteheader"><a href="http://mbed.org/users/buckeyes1997/"><img alt="user" class="icon" src="./QEI_hw interface implementation notes   mbed_files/d58e2f077670f4de9cd7963c857f2534_16x16_crop_sharpen_upscale_q85.jpg"></a> <a href="http://mbed.org/users/buckeyes1997/"> Matt Clement</a> wrote:</span><br>
<p>Is there a way with the hardware inputs to specify internal pull up/downs?&nbsp; I would like to not have external components if possible.</p>
</blockquote>
Call the <a href="http://mbed.org/projects/libraries/api/mbed/trunk/DigitalIn#DigitalIn.mode">mode</a> function on the DigitalIn object (works also for interrupt pins).<p></p>
                    </div>
                    
                     <div class="comment-related">
                        <a class="quotelink" href="http://mbed.org/users/hexley/notebook/qei_hw-interface-implementation-notes/#id_content" id="quote-972"><img height="16" width="16" class="icon icon_comment" src="./QEI_hw interface implementation notes   mbed_files/blank.gif"> quote</a>
                    

                    </div>
                    
 
                </div>
        </div>
    </div>
</div>
</div>
      
                <div>


<div class="post post-odd">
    <a name="comment-973"></a>
    <div class="inner">
        <div class="post-container">
                <div class="info" style="min-height: 2em">
                        <span style="float: right;">



    

</span>
                    <div style="float: left;">
                        <div class="author"><span class="authortext"><a href="http://mbed.org/users/hexley/"><img alt="" class="icon" width="16px" height="16px" src="./QEI_hw interface implementation notes   mbed_files/29660f5ea855d8f1568d02a23d5c878a.jpg"></a> <a href="http://mbed.org/users/hexley/"> Hexley Ball</a></span>  
                        </div>
                        <a class="permalink" href="http://mbed.org/users/hexley/notebook/qei_hw-interface-implementation-notes/comment/973">#</a>
                        <span class="updated"><abbr class="timeago" title="21 Ene 2011">21 Ene 2011</abbr>
                        </span>
                    </div>
                <div style="clear: left;"></div>


                </div>
                <div class="forum-content">
                    <div class="comment-messagebody">
                        <blockquote class="quote"><span class="quoteheader"><a href="http://mbed.org/users/buckeyes1997/"><img alt="user" class="icon" src="./QEI_hw interface implementation notes   mbed_files/d58e2f077670f4de9cd7963c857f2534_16x16_crop_sharpen_upscale_q85.jpg"></a> <a href="http://mbed.org/users/buckeyes1997/"> Matt Clement</a> wrote:</span><br>
<p>Is there a way with the hardware inputs to specify internal pull up/downs?&nbsp; I would like to not have external components if possible.</p>
<p>Matt</p>
<p>&nbsp;</p>
</blockquote>

<p><span style="font-size: 12pt; font-family: &quot;Times New Roman&quot;;">The qei_hw driver sets the pin modes in the initialization module:</span></p>
<p><span style="font-size: 12pt; font-family: &quot;Times New Roman&quot;;">00028 QEIHW::QEIHW(uint32_t _dirinv, uint32_t _sigmode, uint32_t _capmode, uint32_t _invinx)<br>00029 {<br>. . .<br>00041&nbsp;&nbsp;&nbsp;&nbsp; // MCI0 (PhA)<br>00042&nbsp;&nbsp;&nbsp;&nbsp; LPC_PINCON-&gt;PINSEL3 = (LPC_PINCON-&gt;PINSEL3 &amp; PINSEL3_MCI0_MASK) | PINSEL3_MCI0 ;<br>00043&nbsp;&nbsp;&nbsp;&nbsp; LPC_PINCON-&gt;PINMODE3 = (LPC_PINCON-&gt;PINMODE3 &amp; PINMODE3_MCI0_MASK) | PINMODE3_MCI0;<br>00044 <br>00045&nbsp;&nbsp;&nbsp;&nbsp; // MCI1 (PhB)<br>00046&nbsp;&nbsp;&nbsp;&nbsp; LPC_PINCON-&gt;PINSEL3 = (LPC_PINCON-&gt;PINSEL3 &amp; PINSEL3_MCI1_MASK) | PINSEL3_MCI1 ;<br>00047&nbsp;&nbsp;&nbsp;&nbsp; LPC_PINCON-&gt;PINMODE3 = (LPC_PINCON-&gt;PINMODE3 &amp; PINMODE3_MCI1_MASK) | PINMODE3_MCI1;<br>00048 <br>00049&nbsp;&nbsp;&nbsp;&nbsp; // MCI2 (Index)<br>00050&nbsp;&nbsp;&nbsp;&nbsp; LPC_PINCON-&gt;PINSEL3 = (LPC_PINCON-&gt;PINSEL3 &amp; PINSEL3_MCI2_MASK) | PINSEL3_MCI2 ;<br>00051&nbsp;&nbsp;&nbsp;&nbsp; LPC_PINCON-&gt;PINMODE3 = (LPC_PINCON-&gt;PINMODE3 &amp; PINMODE3_MCI2_MASK) | PINMODE3_MCI2;<br></span></p>
<p></p>
<p class="MsoNormal">The pin modes are defined in qeihw.h</p>
<pre>00599 <span class="comment">/*********************************************************************//**</span></pre>
<pre>00600 <span class="comment"><span>&nbsp;</span>* Macro defines for PINSEL3 register QEI-related bits</span></pre>
<pre>00601 <span class="comment"><span>&nbsp;</span>**********************************************************************/</span></pre>
<pre><a href="http://mbed.org/users/hexley/notebook/qei_hw-interface-implementation-notes/users/hexley/libraries/QEI_hw/lk55sm/docs/qeihw_8h.html#afdd8c6c8cd74e34c62cb4b5d8b8f25d9">00602</a> <span class="preprocessor">#define PINSEL3_MCI0<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>((uint32_t)(1&lt;&lt;8))<span>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span class="comment">/**&lt; MCIO (PhA) pin select */</span></pre>
<pre><a href="http://mbed.org/users/hexley/notebook/qei_hw-interface-implementation-notes/users/hexley/libraries/QEI_hw/lk55sm/docs/qeihw_8h.html#a47d6b62702c650d86c6141a46bb60ec8">00603</a> <span class="preprocessor">#define PINSEL3_MCI0_MASK<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>~((uint32_t)(3&lt;&lt;8))<span>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span class="comment">/**&lt; MCIO (PhA) pin mask */</span></pre>
<pre><a href="http://mbed.org/users/hexley/notebook/qei_hw-interface-implementation-notes/users/hexley/libraries/QEI_hw/lk55sm/docs/qeihw_8h.html#a2ead6305e79e6bc72332681357cd594d">00604</a> <span class="preprocessor">#define PINSEL3_MCI1<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>((uint32_t)(1&lt;&lt;14))<span>&nbsp;&nbsp;&nbsp; </span></span><span class="comment">/**&lt; MCI1 (PhB) pin select */</span></pre>
<pre><a href="http://mbed.org/users/hexley/notebook/qei_hw-interface-implementation-notes/users/hexley/libraries/QEI_hw/lk55sm/docs/qeihw_8h.html#ad6ae60a251ddf9208128601afd68cf8b">00605</a> <span class="preprocessor">#define PINSEL3_MCI1_MASK<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>~((uint32_t)(3&lt;&lt;14))<span>&nbsp;&nbsp;&nbsp; </span></span><span class="comment">/**&lt; MCI2 (PhB) pin mask */</span></pre>
<pre><a href="http://mbed.org/users/hexley/notebook/qei_hw-interface-implementation-notes/users/hexley/libraries/QEI_hw/lk55sm/docs/qeihw_8h.html#a7dfdd4f1fc055b9b8e056bc5bdc02a09">00606</a> <span class="preprocessor">#define PINSEL3_MCI2<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>((uint32_t)(1&lt;&lt;16))<span>&nbsp;&nbsp;&nbsp; </span></span><span class="comment">/**&lt; MCI2 (Index) pin select */</span></pre>
<pre><a href="http://mbed.org/users/hexley/notebook/qei_hw-interface-implementation-notes/users/hexley/libraries/QEI_hw/lk55sm/docs/qeihw_8h.html#a29905e9d888e480667756902b01a57e7">00607</a> <span class="preprocessor">#define PINSEL3_MCI2_MASK<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>~((uint32_t)(3&lt;&lt;16))<span>&nbsp;&nbsp;&nbsp; </span></span><span class="comment">/**&lt; MCI2 (Index) pin mask */</span></pre>
<pre>00608 </pre>
<pre>00609 <span class="comment">/*********************************************************************//**</span></pre>
<pre>00610 <span class="comment"><span>&nbsp;</span>* Macro defines for PINMODE3 register QEI-related bits</span></pre>
<pre>00611 <span class="comment"><span>&nbsp;</span>**********************************************************************/</span></pre>
<pre><a href="http://mbed.org/users/hexley/notebook/qei_hw-interface-implementation-notes/users/hexley/libraries/QEI_hw/lk55sm/docs/qeihw_8h.html#abbcd9917ed2b56bce698cd78046fee96">00612</a> <span class="preprocessor">#define PIN_PULL_UP<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>0UL</span></pre>
<pre>00613 <span class="preprocessor">#define PIN_REPEATER<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>1UL</span></pre>
<pre>00614 <span class="preprocessor">#define PIN_NORESISTOR<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>2UL</span></pre>
<pre>00615 <span class="preprocessor">#define PIN_PULL_DOWN<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>3UL<span>&nbsp;&nbsp;&nbsp;&nbsp; </span></span></pre>
<pre>00616 </pre>
<pre><a href="http://mbed.org/users/hexley/notebook/qei_hw-interface-implementation-notes/users/hexley/libraries/QEI_hw/lk55sm/docs/qeihw_8h.html#af2f15365bbb00cd3839741d742bacbf1">00617</a> <span class="preprocessor">#define PINMODE3_MCI0<span>&nbsp; </span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>((uint32_t)(PIN_NORESISTOR&lt;&lt;8))<span>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span class="comment">/**&lt; MCIO (PhA) resistor selection */</span></pre>
<pre><a href="http://mbed.org/users/hexley/notebook/qei_hw-interface-implementation-notes/users/hexley/libraries/QEI_hw/lk55sm/docs/qeihw_8h.html#a2b5dca2a5e02a6e1c076d5fe8a744746">00618</a> <span class="preprocessor">#define PINMODE3_GPIO1p20<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>&nbsp;&nbsp;</span>((uint32_t)(PIN_PULL_DOWN&lt;&lt;8))<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span class="comment">/**&lt; GPIO 1.20) resistor selection */</span></pre>
<pre><a href="http://mbed.org/users/hexley/notebook/qei_hw-interface-implementation-notes/users/hexley/libraries/QEI_hw/lk55sm/docs/qeihw_8h.html#aa13def4b1f0a49fc4d554f3e3ff81e7d">00619</a> <span class="preprocessor">#define PINMODE3_MCI0_MASK<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>~((uint32_t)(3&lt;&lt;8))<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span class="comment">/**&lt; MCIO (PhA) resistor mask */</span></pre>
<pre>00620 </pre>
<pre><a href="http://mbed.org/users/hexley/notebook/qei_hw-interface-implementation-notes/users/hexley/libraries/QEI_hw/lk55sm/docs/qeihw_8h.html#afc7c7ebb1fb92ca515f60b277610855e">00621</a> <span class="preprocessor">#define PINMODE3_MCI1<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>((uint32_t)(PIN_NORESISTOR&lt;&lt;14))<span>&nbsp;&nbsp;&nbsp; </span></span><span class="comment">/**&lt; MCI1 (PhB) resistor selection */</span></pre>
<pre><a href="http://mbed.org/users/hexley/notebook/qei_hw-interface-implementation-notes/users/hexley/libraries/QEI_hw/lk55sm/docs/qeihw_8h.html#ad85ac0841bd93200ec617cbbdf077981">00622</a> <span class="preprocessor">#define PINMODE3_GPIO1p23<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>((uint32_t)(PIN_PULL_DOWN&lt;&lt;14)) <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="comment">/**&lt; GPIO 1.23) resistor selection */</span></pre>
<pre><a href="http://mbed.org/users/hexley/notebook/qei_hw-interface-implementation-notes/users/hexley/libraries/QEI_hw/lk55sm/docs/qeihw_8h.html#ade1d203aae04f594fb597de120285d46">00623</a> <span class="preprocessor">#define PINMODE3_MCI1_MASK<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>~((uint32_t)(3&lt;&lt;14))<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span class="comment">/**&lt; MCI1 (PhB) resistor mask */</span></pre>
<pre>00624 </pre>
<pre><a href="http://mbed.org/users/hexley/notebook/qei_hw-interface-implementation-notes/users/hexley/libraries/QEI_hw/lk55sm/docs/qeihw_8h.html#a30b93f373c2a342ce7e1188143456d84">00625</a> <span class="preprocessor">#define PINMODE3_MCI2<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>((uint32_t)(PIN_PULL_UP&lt;&lt;16))<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span class="comment">/**&lt; MCI2 (Index) resistor selection */</span></pre>
<pre><a href="http://mbed.org/users/hexley/notebook/qei_hw-interface-implementation-notes/users/hexley/libraries/QEI_hw/lk55sm/docs/qeihw_8h.html#af9211a7d7e8bb3212425a098704d5fe3">00626</a> <span class="preprocessor">#define PINMODE3_GPIO1p24<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>((uint32_t)(PIN_PULL_DOWN&lt;&lt;16))<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span class="comment">/**&lt; GPIO 1.24) resistor selection */</span></pre>
<pre><a href="http://mbed.org/users/hexley/notebook/qei_hw-interface-implementation-notes/users/hexley/libraries/QEI_hw/lk55sm/docs/qeihw_8h.html#a6400988c559b4cb6e63db1aca89ece4d">00627</a> <span class="preprocessor">#define PINMODE3_MCI2_MASK<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>~((uint32_t)(3&lt;&lt;16))<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span class="comment">/**&lt; MCI2 (Index) resistor mask */</span></pre>
<p class="MsoNormal"><span></span></p>
<p class="MsoNormal">You could add to your own program some statements to override the pin mode. Be sure to do it after the initialization, of course. Something like this should work:</p>
<p class="MsoNormal">&nbsp;</p>
<p class="MsoNormal">// Start by initializing the driver</p>
<p class="MsoNormal">QEIHW qei(QEI_DIRINV_CMPL, QEI_SIGNALMODE_QUAD, QEI_CAPMODE_2X, QEI_INVINX_NONE );</p>
<p class="MsoNormal">// Then redefine the pin modes as you like.</p>
<p class="MsoNormal">#define MY_PIN_MODE_PUP <span> </span>00<span> </span>// Pull up</p>
<p class="MsoNormal">#define MY_PIN_MODE_RPT<span> </span>01<span> </span>// Repeater mode</p>
<p class="MsoNormal">#define MY_PIN_MODE_NOR<span> </span>02<span> </span>// Neither pull up nor pull down</p>
<p class="MsoNormal">#define MY_PIN_MODE_PDN<span> </span>03<span> </span>// Pull down</p>
<p class="MsoNormal">// Configure PhA for pull up<span> </span></p>
<p class="MsoNormal">LPC_PINCON-&gt;PINMODE3 = (LPC_PINCON-&gt;PINMODE3 &amp; <span class="preprocessor">~((uint32_t)(3&lt;&lt;8))<span> </span></span>| <span class="preprocessor">((uint32_t)(</span> MY_PIN_MODE_PUP<span class="preprocessor"> &lt;&lt;8));</span></p>
<p class="MsoNormal">// Configure PhB for pull up<span> </span></p>
<p class="MsoNormal">LPC_PINCON-&gt;PINMODE3 = (LPC_PINCON-&gt;PINMODE3 &amp; <span class="preprocessor">~((uint32_t)(3&lt;&lt;14))<span> </span></span>| <span class="preprocessor">((uint32_t)(</span> MY_PIN_MODE_PUP<span class="preprocessor"> &lt;&lt;14));</span></p>
<p class="MsoNormal">// Configure Index for pull up<span> </span></p>
<p class="MsoNormal">LPC_PINCON-&gt;PINMODE3 = (LPC_PINCON-&gt;PINMODE3 &amp; <span class="preprocessor">~((uint32_t)(3&lt;&lt;16))<span> </span></span>| <span class="preprocessor">((uint32_t)(</span> MY_PIN_MODE_PUP<span class="preprocessor"> &lt;&lt;16));</span></p>
<p class="MsoNormal"><span class="preprocessor"> // Rest of program follows</span></p>
<p class="MsoNormal"><span class="preprocessor">- - -<br></span></p>
<p class="MsoNormal"><span> </span>I haven’t compiled this, so you may need to tweak it a bit. But it should illustrate the concept.</p>
<p class="MsoNormal">Good luck.</p>
                    </div>
                    
                     <div class="comment-related">
                        <a class="quotelink" href="http://mbed.org/users/hexley/notebook/qei_hw-interface-implementation-notes/#id_content" id="quote-973"><img height="16" width="16" class="icon icon_comment" src="./QEI_hw interface implementation notes   mbed_files/blank.gif"> quote</a>
                    

                    </div>
                    
 
                </div>
        </div>
    </div>
</div>
</div>
      
                <div>


<div class="post post-odd">
    <a name="comment-1223"></a>
    <div class="inner">
        <div class="post-container">
                <div class="info" style="min-height: 2em">
                        <span style="float: right;">



    

</span>
                    <div style="float: left;">
                        <div class="author"><span class="authortext"><a href="http://mbed.org/users/jgnoss/"><img alt="" class="icon" width="16px" height="16px" src="./QEI_hw interface implementation notes   mbed_files/29660f5ea855d8f1568d02a23d5c878a.jpg"></a> <a href="http://mbed.org/users/jgnoss/"> Juergen Gnoss</a></span>  
                        </div>
                        <a class="permalink" href="http://mbed.org/users/hexley/notebook/qei_hw-interface-implementation-notes/comment/1223">#</a>
                        <span class="updated"><abbr class="timeago" title="04 Oct 2011">04 Oct 2011</abbr> . Edited: <abbr class="timeago" title="04 Oct 2011">04 Oct 2011</abbr>
                        
                        </span>
                    </div>
                <div style="clear: left;"></div>


                </div>
                <div class="forum-content">
                    <div class="comment-messagebody">
                        <p>&nbsp;</p>
<p>Hello,</p>
<p>thanks for that great work, it saved me a lot of time.</p>
<p>I managed to hook up also the index pin to the mbed</p>
<p>GetIndex() is counting each time the index hit's.</p>
<p>Now I tried to add an ISR using AppendISR.</p>
<p>mbed jumps into the ISR but stalls there.</p>
<p>Is ther something to special care about or anything I'm missing?</p>
<p>here the code I use.</p>
<p>&nbsp;</p>
<p>// Display changes in encoder position and direction<br>#include "mbed.h"<br>#include "qeihw.h"<br><br>DigitalOut led1(LED1);<br>DigitalOut led3(LED3);<br>QEIHW qei(QEI_DIRINV_NONE, QEI_SIGNALMODE_QUAD, QEI_CAPMODE_2X, QEI_INVINX_NONE );<br><br><br>void toggleIndexLed(void) {<br> led3 = !led3;<br>}<br><br>int main() {<br> int32_t temp, position = 0;<br> qei.SetDigiFilter(480UL);<br> qei.SetMaxPosition(1024);<br> qei.AppendISR(QEI_INTFLAG_INX_Int, &amp;toggleIndexLed);<br><br> qei.IntCmd(QEI_INTFLAG_INX_Int, ENABLE);<br><br> while (1) {<br> while (position == (temp = qei.GetPosition()) );<br> position = temp;<br> printf("New position = %d. idx : %d\r\n", temp, qei.GetIndex());<br> led1 = qei.Direction() == SET ? 1 : 0;<br>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; led3 = !led1;<br> wait(0.1);<br> }<br>}</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
                    </div>
                    
                     <div class="comment-related">
                        <a class="quotelink" href="http://mbed.org/users/hexley/notebook/qei_hw-interface-implementation-notes/#id_content" id="quote-1223"><img height="16" width="16" class="icon icon_comment" src="./QEI_hw interface implementation notes   mbed_files/blank.gif"> quote</a>
                    

                    </div>
                    
 
                </div>
        </div>
    </div>
</div>
</div>
      
                <div>


<div class="post post-odd">
    <a name="comment-1226"></a>
    <div class="inner">
        <div class="post-container">
                <div class="info" style="min-height: 2em">
                        <span style="float: right;">



    

</span>
                    <div style="float: left;">
                        <div class="author"><span class="authortext"><a href="http://mbed.org/users/jgnoss/"><img alt="" class="icon" width="16px" height="16px" src="./QEI_hw interface implementation notes   mbed_files/29660f5ea855d8f1568d02a23d5c878a.jpg"></a> <a href="http://mbed.org/users/jgnoss/"> Juergen Gnoss</a></span>  
                        </div>
                        <a class="permalink" href="http://mbed.org/users/hexley/notebook/qei_hw-interface-implementation-notes/comment/1226">#</a>
                        <span class="updated"><abbr class="timeago" title="06 Oct 2011">06 Oct 2011</abbr> . Edited: <abbr class="timeago" title="06 Oct 2011">06 Oct 2011</abbr>
                        
                        </span>
                    </div>
                <div style="clear: left;"></div>


                </div>
                <div class="forum-content">
                    <div class="comment-messagebody">
                        <p>&nbsp;</p>
<p>Now I figured out what happens.</p>
<p>qei.IntCmd(QEI_INTFLAG_INX_Int, ENABLE);</p>
<p>makes the system sensitive for the Index interrupt and jumps correctly in the ISR assigned by AppendISR().</p>
<p>but on occuring IRQ there are more bit's set in&nbsp; LPC_QEI-&gt;QEIINTSTAT.</p>
<p>In my case the 3 PositionCompare Flags are set too, because compare register is 0.</p>
<p>So, the PositionCompare IRQ's has no ISR and bits are not cleared, =&gt; system stalls.</p>
<p>So, my workaround is to clear all that bits in LPC_QEI-&gt;QEIINTSTAT, and it works.</p>
<p>I do that in hexley's&nbsp; QEIHW::Qeiisr(void)</p>
<p>by adding</p>
<p>IntClear( ((uint32_t)(1&lt;&lt;i)));</p>
<p>after calling the ISR.</p>
<p>I don't know if this is the right way, but it works for me.</p>
<p>Ju</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
                    </div>
                    
                     <div class="comment-related">
                        <a class="quotelink" href="http://mbed.org/users/hexley/notebook/qei_hw-interface-implementation-notes/#id_content" id="quote-1226"><img height="16" width="16" class="icon icon_comment" src="./QEI_hw interface implementation notes   mbed_files/blank.gif"> quote</a>
                    

                    </div>
                    
 
                </div>
        </div>
    </div>
</div>
</div>
      
                <div>


<div class="post post-odd">
    <a name="comment-1319"></a>
    <div class="inner">
        <div class="post-container">
                <div class="info" style="min-height: 2em">
                        <span style="float: right;">



    

</span>
                    <div style="float: left;">
                        <div class="author"><span class="authortext"><a href="http://mbed.org/users/eembed/"><img alt="" class="icon" width="16px" height="16px" src="./QEI_hw interface implementation notes   mbed_files/9244ec4566fb565e5147bb63513017ec.jpg"></a> <a href="http://mbed.org/users/eembed/"> Department of Electrical Eng University of Moratuwa</a></span>  
                        </div>
                        <a class="permalink" href="http://mbed.org/users/hexley/notebook/qei_hw-interface-implementation-notes/comment/1319">#</a>
                        <span class="updated"><abbr class="timeago" title="17 Dic 2012">17 Dic 2012</abbr>
                        </span>
                    </div>
                <div style="clear: left;"></div>


                </div>
                <div class="forum-content">
                    <div class="comment-messagebody">
                        <p>thank you very much&nbsp; for your post. It sloved lot of problems we faced and saved money.</p>
<p>We were planing to buy a QEI counter IC becaue QEI library didnt enough for our work.</p>
<p>we used 5000ppr incremental encoder with QEI and it was reliable only up to 60 rpm as mbed get 20000pps.</p>
<p>There are two encoders for two motors which are&nbsp; running at same time</p>
<p>But using QEIHW we just check up to 700 rpm and it was more enough for the work.</p>
<p>Great Work !!!</p>
                    </div>
                    
                     <div class="comment-related">
                        <a class="quotelink" href="http://mbed.org/users/hexley/notebook/qei_hw-interface-implementation-notes/#id_content" id="quote-1319"><img height="16" width="16" class="icon icon_comment" src="./QEI_hw interface implementation notes   mbed_files/blank.gif"> quote</a>
                    

                    </div>
                    
 
                </div>
        </div>
    </div>
</div>
</div>
      




    <h3>Post new comment</h3>
    <form method="POST" action="" id="commentform">
    <textarea cols="40" id="id_body" name="body" rows="10" style="width: 100%; height: 20em;"></textarea>
<script type="text/javascript">tinyMCE.init({"relative_urls": false, "spellchecker_languages": "Alem\u00e1n=de,Ingl\u00e9s=en,Japon\u00e9s=ja,+Espa\u00f1ol=es", "paste_auto_cleanup_on_paste": true, "force_p_newlines": false, "language": "es", "strict_loading_mode": 1, "document_base_url": "http://mbed.org", "entity_encoding": "raw", "directionality": "ltr", "remove_script_host": false, "theme": "mbedsimple", "elements": "id_body", "mode": "exact", "plugins": "media,safari,tabfocus, table, preelementfix,  syntaxhl, notebookpages, publishedprograms, inlinepopups", "file_browser_callback": "djangoFileBrowser"})</script>
    <p>
    <br>
    <input type="submit" class="button large radius" style="margin-top: 10px;" value="Post comment"> &nbsp;
    </p></form>
        



        </div>
        
        <div class="three columns sidebar ">
            

<div class="panel radius">
<h5 class="subheader">QEI_hw interface implementation notes</h5>
    <p>
        
            
        

        
    </p>

    
  
    <p>
          Page owner: <span class="authortext"><a href="http://mbed.org/users/hexley/"><img alt="" class="icon" width="16px" height="16px" src="./QEI_hw interface implementation notes   mbed_files/29660f5ea855d8f1568d02a23d5c878a.jpg"></a> <a href="http://mbed.org/users/hexley/"> Hexley Ball</a></span>
    </p>
    <p>
        Created <abbr class="timeago" title="11 Dic 2010">11 Dic 2010</abbr>.
         
            <br>
         Last updated <abbr class="timeago" title="11 Dic 2010">11 Dic 2010</abbr>
        
        

    </p>


</div>
    
   
   			<div class="panel radius">
            <h5 class="subheader">Email alerts for this page</h5>

            
            <p><input type="checkbox" onclick="parent.location=&#39;/users/hexley/notebook/qei_hw-interface-implementation-notes/subscription/add&#39;" title="Subscribe me to email alerts for new comments on this page">  Email me about updates or comments on this page</p>

            
            </div>
    
        

        </div>
    </div>
    
    
    <div class="row footer ">
        <div class="twelve columns">
        <hr>
        <a href="http://www.arm.com/"><img src="./QEI_hw interface implementation notes   mbed_files/blank.gif" class="icon_arm_logo" width="48" height="48" style="float:right"></a>
        <ul>
            <li>© mbed</li> 
            <li><a href="http://mbed.org/blog">blog</a></li>
            <li><a href="http://mbed.org/order">get an mbed</a></li>
            <li><a href="http://mbed.org/handbook/About">about mbed</a></li>
            <li><a href="http://mbed.org/handbook/Jobs">we're hiring!</a></li>
            <li><a href="http://mbed.org/handbook/Help">support</a></li>
            <li><a href="http://mbed.org/handbook/Service-status">service status</a></li>
            <li><a href="http://mbed.org/privacy">privacy policy</a></li>
            <li><a href="http://mbed.org/terms">terms and conditions</a> </li>
            <li class="last">Language: <a href="http://mbed.org/setlang?lang=en">en</a> <a href="http://mbed.org/setlang?lang=ja">ja</a> <a href="http://mbed.org/setlang?lang=es">es</a> <a href="http://mbed.org/setlang?lang=de">de</a></li> 
            </ul>
           <p style="clear:left">mbed, the fastest way to create devices with ARM-based microcontrollers.</p>
           <p class="backtotop"><a href="http://mbed.org/users/hexley/notebook/qei_hw-interface-implementation-notes/#top">^ back to top</a></p>
       </div>

    
    </div>
    <script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script><script src="./QEI_hw interface implementation notes   mbed_files/ga.js" type="text/javascript"></script>
<script type="text/javascript">
try{
var pageTracker = _gat._getTracker("UA-1447836-8");

pageTracker._setCustomVar(1, 'User Type', 'Registered', 2);

pageTracker._trackPageview();
} catch(err) {}
</script>




</body></html>